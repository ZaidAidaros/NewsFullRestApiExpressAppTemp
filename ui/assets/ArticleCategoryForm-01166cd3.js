import{_ as p,R as f,r as y,o as h,c as C,w as t,f as V,a,l as n,k as i,b as l,m as d,t as v,V as b,j as u,y as w,x as F,B as c}from"./index-d76a5229.js";import{a as m}from"./adminController-666ea454.js";const k={components:{ResMsg:f},data:()=>({pageTitle:"Add And Edit Articles Categories",loading:!1,error:!1,msg:null,category:{name:null,description:null},rules:{required:e=>!!e||"Required."}}),mounted(){const e=this.$store.getters.getCategory;e&&(this.category=e)},methods:{onSubmit:async function(){const e=await this.$refs.categoryForm.validate();if(this.error=!1,this.msg=null,e.valid){this.loading=!0;let r=null;this.category.Id?r=await m.updateArticleCategory(this.category):r=await m.addArticleCategory(this.category),this.loading=!1,this.error=!r.state,this.msg=r.message,r.state&&(await this.$store.dispatch("setCategory",null),this.clearForm())}else this.error=!0,this.msg="Must Fill Fields correctly.."},clearForm:function(){this.category.name=null,this.category.description=null,this.category.Id&&delete this.category.Id}}};function A(e,r,S,_,B,o){const g=y("res-msg");return h(),C(V,{flat:"",class:"mx-auto pa-8","min-width":"300px"},{default:t(()=>[a(d,null,{default:t(()=>[a(n),a(i,{color:"black-lighten-2","prepend-icon":"mdi-shape",to:{name:"ArticleCategoriesManage"}},{default:t(()=>[l(" Back ")]),_:1})]),_:1}),a(b,null,{default:t(()=>[l(v(e.pageTitle),1)]),_:1}),a(F,{ref:"categoryForm",onSubmit:w(o.onSubmit,["prevent"])},{default:t(()=>[a(u,{modelValue:e.category.name,"onUpdate:modelValue":r[0]||(r[0]=s=>e.category.name=s),color:"primary",label:"Category Name",variant:"underlined",rules:[e.rules.required]},null,8,["modelValue","rules"]),a(u,{modelValue:e.category.description,"onUpdate:modelValue":r[1]||(r[1]=s=>e.category.description=s),color:"primary",label:"Category Description",variant:"underlined",rules:[e.rules.required]},null,8,["modelValue","rules"])]),_:1},8,["onSubmit"]),a(c),a(g,{msg:e.msg,error:e.error},null,8,["msg","error"]),a(c),a(d,{class:"mx-10",end:""},{default:t(()=>[a(n),a(i,{width:"100px",color:"grey",variant:"elevated",onClick:o.clearForm},{default:t(()=>[l(" Clear ")]),_:1},8,["onClick"]),a(i,{width:"100px",loading:e.loading,color:"green",type:"submit",variant:"elevated",onClick:o.onSubmit},{default:t(()=>[l(" Save ")]),_:1},8,["loading","onClick"])]),_:1})]),_:1})}const M=p(k,[["render",A]]);export{M as default};
