import{_ as g,v as a,r as i,o as n,c as l,w as r,a as s,q as k,b as c,f,d as h,t as _,i as C}from"./index-50d0d424.js";import{A as M}from"./ArticleComp-c7ec9649.js";import{L}from"./LoadingAndErrorSc-2f4ab5fb.js";import{V as B}from"./VContainer-1d22aa7d.js";import{V}from"./VVirtualScroll-bf8a3f7d.js";import"./writterController-5201010d.js";import"./BookMark-5181d7c9.js";const A={name:"ArticlesList",components:{ArticleComp:M,LoadingAndErrorSc:L},data(){return{isLoading:!0,error:!1,page:0,pageSize:0,pageCount:1,count:0,msg:null,bookMarks:[]}},async mounted(){await this.loadBookMarks()},methods:{deleteBookMark:async function(o){(await a.deleteBookMark(o.Id)).state&&this.bookMarks.pop(o)},loadBookMarks:async function(){this.isLoading=!0,this.msg=null,this.error=!1;const o=await a.getBookMarks(this.page);this.isLoading=!1,this.error=!o.state,this.msg=o.message,o.state&&(o.userBookMarks?(this.bookMarks.push(...o.userBookMarks),o.count&&(this.count=o.count,this.pageCount=o.pageCount),this.page++):this.msg="No Saved Articles ...")}}};function x(o,m,S,v,e,u){const p=i("ArticleComp"),d=i("LoadingAndErrorSc");return n(),l(B,null,{default:r(()=>[!e.isLoading&&!e.msg?(n(),l(V,{key:0,ref:"scrollRef",items:e.bookMarks,"max-height":"700px"},{default:r(({item:t})=>[s(f,null,{default:r(()=>[s(k,{color:"red",onClick:w=>u.deleteBookMark(t)},{default:r(()=>[c("mdi-note-remove")]),_:2},1032,["onClick"]),s(p,{article:t.article},null,8,["article"])]),_:2},1024)]),_:1},8,["items"])):h("",!0),s(d,{isLoading:e.isLoading,msg:e.msg,error:e.error},null,8,["isLoading","msg","error"]),s(C,null,{default:r(()=>[c(_(e.page+"/"+e.pageCount),1)]),_:1})]),_:1})}const z=g(A,[["render",x]]);export{z as default};
