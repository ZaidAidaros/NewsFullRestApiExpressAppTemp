import{_ as g,R as w,I as N,v as d,r as u,o as m,c as n,w as s,f as y,a as t,i as o,b as f,t as b,x as v,y as h,j as i,d as k,B as C,k as q,m as F}from"./index-50d0d424.js";import{V as U}from"./VCheckbox-a3894c96.js";const c={name:"WritterInfoForm",components:{ResMsg:w,ImageComp:N},data:()=>({pageTitle:"Upgrade Your Account To Be Writter",loading:!1,error:!1,msg:null,writter:{firstName:null,middelName:null,lastName:null,familyName:null,nickName:null,nic:null,address:null,references:null},terms:!1,isEdit:!1}),mounted(){const e=this.$store.getters.getWritter;e&&(this.writter=e,this.isEdit=!0)},methods:{required:e=>!!e||"Required.",onSubmit:async function(){if((await this.$refs.writterForm.validate()).valid&&(this.terms||this.isEdit)){this.loading=!0,this.error=!1,this.msg=null;let r=null;this.isEdit?r=await d.updateWritterInfo(this.writter):r=await d.upToWritterReq(this.writter),this.loading=!1,this.msg=r.message,this.error=!r.state,r.state&&(this.$store.dispatch("setWritter",null),setTimeout(()=>{this.msg=null,this.$router.back()},2e3))}else{if(!this.terms&&!this.isEdit){this.msg="You must accept our terms",this.error=!0;return}this.msg="You must Fill Fields Correctly",this.error=!0}}}};function T(e,r,I,S,W,a){const V=u("image-comp"),p=u("res-msg");return m(),n(y,{flat:"","max-width":"400px",class:"mx-auto pa-8","justify-center":""},{default:s(()=>[t(o,null,{default:s(()=>[t(V,{src:"src/assets/logo.png"})]),_:1}),t(o,null,{default:s(()=>[f(b(e.pageTitle),1)]),_:1}),t(o,null,{default:s(()=>[t(v,{ref:"writterForm",onSubmit:h(a.onSubmit,["prevent"]),class:"my-2"},{default:s(()=>[t(i,{modelValue:e.writter.firstName,"onUpdate:modelValue":r[0]||(r[0]=l=>e.writter.firstName=l),color:"primary",label:"First Name",variant:"underlined",rules:[a.required]},null,8,["modelValue","rules"]),t(i,{modelValue:e.writter.middelName,"onUpdate:modelValue":r[1]||(r[1]=l=>e.writter.middelName=l),color:"primary",label:"Middle",variant:"underlined",rules:[a.required]},null,8,["modelValue","rules"]),t(i,{modelValue:e.writter.lastName,"onUpdate:modelValue":r[2]||(r[2]=l=>e.writter.lastName=l),color:"primary",label:"Last Name",variant:"underlined",rules:[a.required]},null,8,["modelValue","rules"]),t(i,{modelValue:e.writter.familyName,"onUpdate:modelValue":r[3]||(r[3]=l=>e.writter.familyName=l),color:"primary",label:"Family Name",variant:"underlined",rules:[a.required]},null,8,["modelValue","rules"]),t(i,{modelValue:e.writter.nickName,"onUpdate:modelValue":r[4]||(r[4]=l=>e.writter.nickName=l),color:"primary",label:"Nick Name",variant:"underlined",rules:[a.required]},null,8,["modelValue","rules"]),t(i,{modelValue:e.writter.address,"onUpdate:modelValue":r[5]||(r[5]=l=>e.writter.address=l),color:"primary",label:"Address",variant:"underlined",rules:[a.required]},null,8,["modelValue","rules"]),t(i,{modelValue:e.writter.nic,"onUpdate:modelValue":r[6]||(r[6]=l=>e.writter.nic=l),color:"primary",label:"NIC",variant:"underlined",rules:[a.required]},null,8,["modelValue","rules"]),t(i,{modelValue:e.writter.references,"onUpdate:modelValue":r[7]||(r[7]=l=>e.writter.references=l),color:"primary",label:"References",variant:"underlined",rules:[a.required]},null,8,["modelValue","rules"]),e.isEdit?k("",!0):(m(),n(U,{key:0,modelValue:e.terms,"onUpdate:modelValue":r[8]||(r[8]=l=>e.terms=l),label:"I agree to writter site terms and conditions"},null,8,["modelValue"])),t(p,{msg:e.msg,error:e.error},null,8,["msg","error"]),t(C)]),_:1},8,["onSubmit"])]),_:1}),t(F,{class:"d-flex flex-row justify-center"},{default:s(()=>[t(q,{loading:e.loading,block:"",color:"green",size:"large",type:"submit",variant:"elevated",large:"",onClick:a.onSubmit},{default:s(()=>[f(" Save ")]),_:1},8,["loading","onClick"])]),_:1})]),_:1})}const R=g(c,[["render",T]]);export{R as default};
